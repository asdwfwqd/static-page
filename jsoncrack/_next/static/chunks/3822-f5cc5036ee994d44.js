"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3822],{83822:function(e,t,r){r.d(t,{o:function(){return er}});var n=r(52676),o=r(75271),l=r(29438),s=r(4363),i=r(69175),a=r(4695),d=r(88177),c=r(76832),h=r(21905),u=r(7066),g=r(42091),p=r(62261),m=r(83437),f=r(23958),x=r(86756);let j=e=>document.querySelectorAll(e),v=()=>{document.querySelectorAll("foreignObject.searched, .highlight").forEach(e=>{e.classList.remove("highlight","searched")})},w=(e,t)=>{e.forEach(e=>{var t;let r=null===(t=e.parentElement)||void 0===t?void 0:t.closest("foreignObject");r&&r.classList.add("searched")}),e[t].classList.add("highlight")};var y=r(85);let b=()=>{let e=(0,y.Z)(e=>e.viewPort),[t,r]=o.useState(0),[n,l]=o.useState(0),[s,i]=o.useState(""),[a]=(0,f.c)(s,600);return o.useEffect(()=>{if(!s){v(),r(0),l(0);return}if(!e||!a)return;let n=j("span[data-key*='".concat(a,"' i]")),o=n[t]||null;v(),o&&o.parentElement?(w(n,t),l(n.length),null==e||e.camera.centerFitElementIntoView(o.parentElement,{elementExtraMarginForZoom:400})):(r(0),l(0)),(0,x.j)("Graph","search")},[t,a,s,e]),[s,i,()=>r(e=>(e+1)%n),n,t]},S=()=>{let[e,t,r,o,l]=b();return(0,n.jsx)(p.o,{type:"search",size:"xs",id:"search-node",w:180,value:e,onChange:e=>t(e.currentTarget.value),placeholder:"Search Node",onKeyDown:(0,m.yr)([["Enter",r]]),leftSection:(0,n.jsx)(u.RB5,{}),rightSection:e&&(0,n.jsx)(s.k,{h:30,align:"center",children:(0,n.jsx)(d.x,{size:"xs",c:"dimmed",pr:"md",children:e&&"".concat(o,"/").concat(o>0?l+1:"0")})})})};var C=r(47652),I=r(96082),k=r(16049),Z=r(75415),N=r(98043),E=r(36060),z=r(98046),A=r(8396),O=r(37243),F=r(80253);let M=O.ZP.div.withConfig({componentId:"sc-8b5e8356-0"})(["position:relative;display:flex;width:100%;align-items:center;gap:4px;justify-content:space-between;height:40px;padding:4px 8px;background:",";color:",";z-index:36;border-bottom:1px solid ",";@media only screen and (max-width:320px){display:none;}"],e=>{let{theme:t}=e;return t.TOOLBAR_BG},e=>{let{theme:t}=e;return t.SILVER},e=>{let{theme:t}=e;return t.SILVER_DARK}),P=O.ZP.button.withConfig({componentId:"sc-8b5e8356-1"})(["display:",";place-content:center;font-size:12px;background:none;color:",";padding:6px;border-radius:3px;white-space:nowrap;&:hover{background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);}&:hover{color:",";opacity:1;box-shadow:none;}"],e=>{let{$hide:t}=e;return t?"none":"grid"},e=>{let{theme:t}=e;return t.INTERACTIVE_NORMAL},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER}),T=(0,O.ZP)(F.S$H).withConfig({componentId:"sc-8b5e8356-2"})(["transform:rotate(",");"],e=>{let{rotate:t}=e;return"".concat(t,"deg")}),L=()=>{let e=(0,A.Z)(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user_metadata}),t=(0,A.Z)(e=>e.logout),r=(0,Z.Z)(e=>e.setVisible),o=(null==e?void 0:e.full_name)||(null==e?void 0:e.display_name)||(null==e?void 0:e.name);return(0,n.jsxs)(N.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(N.v.Target,{children:(0,n.jsx)(P,{children:(0,n.jsx)(E.q,{color:e?"teal":"indigo",variant:"filled",size:20,radius:"xl",children:e&&"JC"})})}),(0,n.jsxs)(N.v.Dropdown,{children:[e?(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(E.q,{color:"indigo",alt:o,size:20,radius:"xl"}),onClick:()=>r("account")(!0),closeMenuOnClick:!0,children:(0,n.jsx)(d.x,{size:"xs",children:null!=o?o:"Account"})}):(0,n.jsx)("a",{href:"https://app.jsoncrack.com/sign-in",children:(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(z.aju,{}),children:(0,n.jsx)(d.x,{size:"xs",children:"Sign in"})})}),e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.v.Divider,{}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(z.xJq,{}),onClick:()=>r("review")(!0),closeMenuOnClick:!0,children:(0,n.jsx)(d.x,{size:"xs",children:"Feedback"})}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(z.TdI,{}),onClick:()=>t(),closeMenuOnClick:!0,children:(0,n.jsx)(d.x,{size:"xs",children:"Log out"})})]})]})]})};var J=r(53079);let V=()=>{let e=(0,Z.Z)(e=>e.setVisible),t=(0,k.Z)(e=>e.getContents),r=(0,k.Z)(e=>e.getFormat);return(0,n.jsxs)(N.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(N.v.Target,{children:(0,n.jsx)(P,{title:"File",children:(0,n.jsxs)(s.k,{align:"center",gap:3,children:["File",(0,n.jsx)(J.YgJ,{})]})})}),(0,n.jsxs)(N.v.Dropdown,{children:[(0,n.jsx)(N.v.Item,{fz:12,onClick:()=>e("import")(!0),children:"Import"}),(0,n.jsx)(N.v.Item,{fz:12,onClick:()=>{let e=document.createElement("a"),n=new Blob([t()],{type:"text/plain"});e.href=window.URL.createObjectURL(n),e.download="jsoncrack.".concat(r()),e.click(),(0,x.j)("File Menu","download",r())},children:"Export"})]})]})};var G=r(27073);let R=()=>{let[e,t]=o.useState("");return(o.useEffect(()=>{t((0,G.c)()?window.location.href.replace("widget","editor"):"https://jsoncrack.com")},[]),e)?(0,n.jsx)(P,{title:"JSON Crack",children:(0,n.jsx)(s.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(I.p,{fontSize:"1.2em",href:e,target:(0,G.c)()?"_blank":"_parent"})})}):null};var D=r(45917),q=r(48601),H=r(86322);let _=()=>{let e=(0,H.Z)(e=>e.toggleGestures),t=(0,H.Z)(e=>e.toggleChildrenCount),r=(0,H.Z)(e=>e.toggleDarkMode),o=(0,H.Z)(e=>e.toggleRulers),l=(0,H.Z)(e=>e.toggleCollapseButton),i=(0,H.Z)(e=>e.toggleImagePreview),a=(0,H.Z)(e=>e.gesturesEnabled),c=(0,H.Z)(e=>e.childrenCountVisible),h=(0,H.Z)(e=>e.darkmodeEnabled),u=(0,H.Z)(e=>e.rulersEnabled),g=(0,H.Z)(e=>e.collapseButtonVisible),p=(0,H.Z)(e=>e.imagePreviewEnabled);return(0,n.jsxs)(N.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(N.v.Target,{children:(0,n.jsx)(P,{children:(0,n.jsx)(s.k,{gap:4,children:(0,n.jsx)(q.b9P,{size:"18"})})})}),(0,n.jsxs)(N.v.Dropdown,{children:[(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(D.IPg,{opacity:u?100:0}),onClick:()=>{o(!u),(0,x.j)("Options Menu","toggle rulers",u?"on":"off")},children:(0,n.jsx)(d.x,{size:"xs",children:"Rulers"})}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(D.IPg,{opacity:a?100:0}),onClick:()=>{e(!a),(0,x.j)("Options Menu","toggle gestures",a?"on":"off")},children:(0,n.jsx)(d.x,{size:"xs",children:"Trackpad Gestures"})}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(D.IPg,{opacity:c?100:0}),onClick:()=>{t(!c),(0,x.j)("Options Menu","toggle children count",c?"on":"off")},children:(0,n.jsx)(d.x,{size:"xs",children:"Item Count"})}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(D.IPg,{opacity:p?100:0}),onClick:()=>{i(!p),(0,x.j)("Options Menu","toggle image preview",p?"on":"off")},children:(0,n.jsx)(d.x,{size:"xs",children:"Image Link Preview"})}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(D.IPg,{opacity:g?100:0}),onClick:()=>{l(!g),(0,x.j)("Options Menu","toggle collapse button",g?"on":"off")},children:(0,n.jsx)(d.x,{size:"xs",children:"Show Expand/Collapse"})}),(0,n.jsx)(N.v.Item,{leftSection:(0,n.jsx)(D.IPg,{opacity:h?100:0}),onClick:()=>{r(!h),(0,x.j)("Options Menu","toggle dark mode",h?"on":"off")},children:(0,n.jsx)(d.x,{size:"xs",children:"Dark Mode"})})]})]})};var U=r(2598);let Y=()=>{let e=(0,Z.Z)(e=>e.setVisible);return(0,n.jsxs)(N.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(N.v.Target,{children:(0,n.jsx)(P,{onClick:()=>(0,x.j)("Tools Menu","toggle menu"),children:(0,n.jsxs)(s.k,{align:"center",gap:3,children:["Tools ",(0,n.jsx)(J.YgJ,{})]})})}),(0,n.jsxs)(N.v.Dropdown,{children:[(0,n.jsx)(N.v.Item,{fz:12,leftSection:(0,n.jsx)(q.QA0,{}),rightSection:(0,n.jsx)(z.ULV,{}),onClick:()=>{e("upgrade")(!0),(0,x.j)("Tools Menu","open","Compare Data")},children:"Compare Data"}),(0,n.jsx)(N.v.Item,{fz:12,leftSection:(0,n.jsx)(z.lFM,{}),onClick:()=>{e("jq")(!0),(0,x.j)("Tools Menu","open","JSON Query")},children:"JSON Query (jq)"}),(0,n.jsx)(N.v.Item,{fz:12,leftSection:(0,n.jsx)(z.gkd,{}),onClick:()=>{e("schema")(!0),(0,x.j)("Tools Menu","open","JSON Schema")},children:"JSON Schema"}),(0,n.jsx)(N.v.Item,{fz:12,leftSection:(0,n.jsx)(U.HIx,{}),onClick:()=>{e("jwt")(!0),(0,x.j)("Tools Menu","open","Decode JWT")},children:"Decode JWT"}),(0,n.jsx)(N.v.Item,{fz:12,leftSection:(0,n.jsx)(z.Coj,{}),onClick:()=>{e("type")(!0),(0,x.j)("Tools Menu","open","Generate Type")},children:"Generate Type"})]})]})};var B=r(56549),W=r(25853),X=r(55686),K=r(52257);let $=()=>{var e;let{validateHiddenNodes:t}=(0,K.Z)(),[r,l]=o.useState("CTRL"),i=(0,y.Z)(e=>e.setDirection),a=(0,y.Z)(e=>e.direction),c=(0,y.Z)(e=>e.expandGraph),u=(0,y.Z)(e=>e.collapseGraph),g=(0,y.Z)(e=>e.focusFirstNode),p=(0,y.Z)(e=>e.graphCollapsed),m=(0,H.Z)(e=>e.viewMode),f=(0,H.Z)(e=>e.setViewMode),j=()=>{var e;let t="RIGHT"===(e=a||"RIGHT")?"DOWN":"DOWN"===e?"LEFT":"LEFT"===e?"UP":"RIGHT";i&&i(t)},v=()=>{p?c():u(),t(),(0,h.default)("".concat(p?"Expanded":"Collapsed"," graph."))};return(0,W.A)([["mod+shift+d",j],["mod+shift+c",v],["mod+f",()=>{document.querySelector("#search-node").focus()}]]),o.useEffect(()=>{l(navigator.userAgent.indexOf("Mac OS X")?"âŒ˜":"CTRL")},[]),(0,n.jsxs)(N.v,{shadow:"md",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(N.v.Target,{children:(0,n.jsx)(P,{onClick:()=>(0,x.j)("View Menu","open menu"),children:(0,n.jsxs)(s.k,{align:"center",gap:3,children:["View ",(0,n.jsx)(J.YgJ,{})]})})}),(0,n.jsxs)(N.v.Dropdown,{children:[(0,n.jsx)(B.s,{miw:205,size:"xs",value:m,onChange:e=>{f(e),(0,x.j)("View Menu","change view mode",e)},data:[{value:X.w.Graph,label:"Graph"},{value:X.w.Tree,label:"Tree"}],fullWidth:!0}),m===X.w.Graph&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.v.Item,{mt:"xs",fz:12,onClick:()=>{j(),(0,x.j)("View Menu","rotate layout")},leftSection:(0,n.jsx)(T,{rotate:"LEFT"===(e=a||"RIGHT")?90:"UP"===e?180:"RIGHT"===e?270:360}),rightSection:(0,n.jsxs)(d.x,{ml:"md",fz:10,c:"dimmed",children:[r," Shift D"]}),children:"Rotate Layout"}),(0,n.jsxs)(N.v.Item,{fz:12,onClick:()=>{v(),(0,x.j)("View Menu","expand collapse graph")},leftSection:p?(0,n.jsx)(z.rIY,{}):(0,n.jsx)(z.NsE,{}),rightSection:(0,n.jsxs)(d.x,{ml:"md",fz:10,c:"dimmed",children:[r," Shift C"]}),children:[p?"Expand":"Collapse"," Graph"]}),(0,n.jsx)(N.v.Item,{fz:12,onClick:g,leftSection:(0,n.jsx)(z.XrG,{}),children:"Focus to First Node"})]})]})]})};var Q=r(52227);let ee=()=>{let e=(0,y.Z)(e=>e.zoomIn),t=(0,y.Z)(e=>e.zoomOut),r=(0,y.Z)(e=>e.centerView),l=(0,y.Z)(e=>e.setZoomFactor),i=(0,y.Z)(e=>{var t;return(null===(t=e.viewPort)||void 0===t?void 0:t.zoomFactor)||1}),[a,c]=o.useState(i);return o.useEffect(()=>{Number.isNaN(i)||c(i)},[i]),(0,W.A)([["shift+Digit0",()=>l(1)],["shift+Digit1",r]]),(0,n.jsxs)(N.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(N.v.Target,{children:(0,n.jsx)(P,{onClick:()=>(0,x.j)("Zoom Menu","open menu"),children:(0,n.jsxs)(s.k,{gap:4,align:"center",children:[Math.round(100*i),"%",(0,n.jsx)(J.YgJ,{})]})})}),(0,n.jsxs)(N.v.Dropdown,{children:[(0,n.jsx)(N.v.Item,{children:(0,n.jsx)(Q.I,{type:"number",value:Math.round(100*a),onChange:e=>c(e.currentTarget.valueAsNumber/100),onKeyDown:(0,m.yr)([["Enter",()=>l(a)]]),size:"xs",rightSection:"%"})}),(0,n.jsx)(N.v.Item,{rightSection:"+",onClick:()=>{e(),(0,x.j)("Zoom Menu","zoom in")},children:(0,n.jsx)(d.x,{size:"xs",children:"Zoom in"})}),(0,n.jsx)(N.v.Item,{rightSection:"-",onClick:()=>{t(),(0,x.j)("Zoom Menu","zoom out")},children:(0,n.jsx)(d.x,{size:"xs",children:"Zoom out"})}),(0,n.jsx)(N.v.Item,{rightSection:"â‡§ 1",onClick:()=>{r(),(0,x.j)("Zoom Menu","center view")},children:(0,n.jsx)(d.x,{size:"xs",children:"Zoom to fit"})}),(0,n.jsx)(N.v.Item,{onClick:()=>{l(.5),(0,x.j)("Zoom Menu","zoom to 50%")},children:(0,n.jsx)(d.x,{size:"xs",children:"Zoom to %50"})}),(0,n.jsx)(N.v.Item,{rightSection:"â‡§ 0",onClick:()=>{l(1),(0,x.j)("Zoom Menu","zoom to 100%")},children:(0,n.jsx)(d.x,{size:"xs",children:"Zoom to %100"})}),(0,n.jsx)(N.v.Item,{onClick:()=>{l(2),(0,x.j)("Zoom Menu","zoom to 200%")},children:(0,n.jsx)(d.x,{size:"xs",children:"Zoom to %200"})})]})]})};function et(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(()=>{h.default.error("Unable to enter fullscreen mode.")})}let er=e=>{let{isWidget:t=!1}=e,r=(0,Z.Z)(e=>e.setVisible),o=(0,k.Z)(e=>e.setFormat),h=(0,k.Z)(e=>e.format),[p,m]=(0,c.X)({key:"seenPremium",defaultValue:!1});return(0,n.jsxs)(M,{children:[t&&(0,n.jsx)(R,{}),!t&&(0,n.jsxs)(l.Z,{gap:"xs",justify:"left",w:"100%",style:{flexWrap:"nowrap"},children:[(0,n.jsx)(P,{title:"JSON Crack",children:(0,n.jsx)(s.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(I.p,{fontSize:"1.2em"})})}),(0,n.jsx)(i.P,{defaultValue:"json",size:"xs",value:h,onChange:e=>o(e),miw:80,w:120,data:[{value:C.d.JSON,label:"JSON"},{value:C.d.YAML,label:"YAML"},{value:C.d.XML,label:"XML"},{value:C.d.TOML,label:"TOML"},{value:C.d.CSV,label:"CSV"}],allowDeselect:!1}),(0,n.jsx)(V,{}),(0,n.jsx)($,{}),(0,n.jsx)(Y,{}),(0,n.jsx)(P,{title:"Cloud",onClick:()=>r("cloud")(!0),children:"Cloud"})]}),(0,n.jsxs)(l.Z,{gap:"xs",justify:"right",w:"100%",style:{flexWrap:"nowrap"},children:[!t&&(0,n.jsx)(P,{onClick:()=>{m(!0),r("upgrade")(!0),(0,x.j)("Toolbar","click upgrade premium")},children:(0,n.jsx)(a.z,{size:5,color:"green",position:"top-start",processing:!0,disabled:p,children:(0,n.jsxs)(d.x,{display:"flex",c:"teal",fz:"xs",fw:600,style:{textAlign:"center",gap:4},children:[(0,n.jsx)(u.WYw,{size:"18"}),"Get Premium"]})})}),(0,n.jsx)(S,{}),!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{title:"Save as Image",onClick:()=>r("download")(!0),children:(0,n.jsx)(g._hL,{size:"18"})}),(0,n.jsx)(ee,{}),(0,n.jsx)(L,{}),(0,n.jsx)(_,{}),(0,n.jsx)(P,{title:"Fullscreen",$hide:t,onClick:et,children:(0,n.jsx)(u.vju,{size:"18"})})]})]})]})}},47652:function(e,t,r){var n,o;r.d(t,{d:function(){return n}}),(o=n||(n={})).JSON="json",o.YAML="yaml",o.XML="xml",o.TOML="toml",o.CSV="csv"},55686:function(e,t,r){var n,o;r.d(t,{w:function(){return n}}),(o=n||(n={})).Graph="graph",o.Tree="tree"},52257:function(e,t,r){var n=r(75271),o=r(85);function l(e,t){let r=e.map(e=>'[id$="node-'.concat(e,'"]')),n=t.map(e=>'[class$="edge-'.concat(e,'"]'));document.body.querySelectorAll(".hide").forEach(e=>e.classList.remove("hide")),r.length&&document.body.querySelectorAll(r.join(",")).forEach(e=>e.classList.add("hide")),n.length&&document.body.querySelectorAll(n.join(",")).forEach(e=>e.classList.add("hide"))}t.Z=()=>{let e=(0,o.Z)(e=>e.getCollapsedNodeIds),t=(0,o.Z)(e=>e.getCollapsedEdgeIds);return n.useEffect(()=>{l(e(),t())},[t,e]),{validateHiddenNodes:()=>l(e(),t())}}},96082:function(e,t,r){r.d(t,{p:function(){return u}});var n=r(52676),o=r(67542),l=r.n(o),s=r(75271),i=r(42007),a=r.n(i),d=r(37243),c=r(27073);let h=d.ZP.div.withConfig({componentId:"sc-a4ed58f0-0"})(["font-weight:800;margin:0;font-family:",";font-size:",";white-space:nowrap;z-index:10;color:",";vertical-align:middle;"],l().style.fontFamily,e=>{let{fontSize:t}=e;return t},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER}),u=e=>{let{fontSize:t="1.2rem",...r}=e,o=s.useMemo(()=>(0,c.c)()?"JC":"JSON CRACK",[]);return(0,n.jsx)(h,{as:a(),fontSize:t,href:"/",prefetch:!1,...r,children:o})}},27073:function(e,t,r){r.d(t,{c:function(){return n}});function n(){try{return window.self!==window.top}catch(e){return!0}}},23038:function(e,t,r){r.d(t,{C:function(){return o},S:function(){return a}});var n=r(86322);let o=e=>{if("string"!=typeof e)return!1;let t=/(https?:\/\/.*\.(?:png|jpg|gif))/i.test(e),r=e.startsWith("data:image/")&&e.includes("base64");return t||r},l=e=>"string"==typeof e?e:e.map(e=>{let[t,r]=e;return"".concat(t,": ").concat(JSON.stringify(r).slice(0,80))}).join("\n"),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return{width:45,height:45};let r=document.createElement("div");r.style.whiteSpace=t?"nowrap":"pre-wrap",r.innerHTML=e,r.style.fontSize="12px",r.style.width="fit-content",r.style.height="fit-content",r.style.padding="10px",r.style.fontWeight="500",r.style.overflowWrap="break-word",r.style.fontFamily="monospace",document.body.appendChild(r);let n=r.getBoundingClientRect(),o=n.width+4,l=n.height;return document.body.removeChild(r),{width:o,height:l}},i=new Map;setInterval(()=>i.clear(),12e4);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{imagePreviewEnabled:r}=n.Z.getState(),a=o(e)&&r,d=[e,t].toString();if(i.has(d)){let e=i.get(d);if(e)return e}let c=s(l(e),"string"==typeof e);return a&&(c.width=80,c.height=80),t&&(c.width+=100),c.width>700&&(c.width=700),i.set(d,c),c}},85:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(49367),o=r(25003);let l=(e,t,r)=>{let n={id:"e".concat(t,"-").concat(r),from:t,to:r};e.edges.push(n)};var s=r(23038);let i=e=>{let{graph:t,text:r,type:n="null",isEmpty:o=!1}=e,l=String(t.nodes.length+1),i="array"===n||"object"===n,{width:a,height:d}=(0,s.S)(r,i);return t.nodes.push({id:l,text:r,width:a,height:d,data:{type:n,isParent:i,isEmpty:o,childrenCount:i?1:0}}),l},a=e=>["boolean","string","number","null"].includes(e),d=(e,t)=>{var r,n,o,l;let s=null==e?void 0:null===(n=e.children)||void 0===n?void 0:null===(r=n[1])||void 0===r?void 0:r.type,i=null==t?void 0:null===(l=t.children)||void 0===l?void 0:null===(o=l[1])||void 0===o?void 0:o.type;return a(s)&&!a(i)?-1:0},c=e=>{let{objectToTraverse:t,states:r,myParentId:n,nextType:o,parentType:a}=e,h=r.graph,{type:u,children:g,value:p}=t;g?g&&function(e,t,r,n,o,a){let h;if("property"!==e&&""!==t.parentName){var u;if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=r.nodes.findIndex(t=>t.id===(null==e?void 0:e.id));if(-1!==n){let e=[...r.nodes],o=e[n];o.text=o.text.concat(t.brothersNode);let{width:l,height:i}=(0,s.S)(o.text,!1);o.width=l,o.height=i,r.nodes=e,t.brothersNode=[]}}else{let e=i({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?l(r,t.brothersParentId,e):t.notHaveParent.push(e),t.brothersNodeProps.push({id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]})}}h=i({graph:r,type:e,text:t.parentName}),t.bracketOpen.push({id:h,type:e}),t.parentName="";let n=t.brothersNodeProps.filter(e=>e.parentId===o&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);n.length>0&&(null===(u=t.bracketOpen[t.bracketOpen.length-2])||void 0===u?void 0:u.type)!=="object"||n.length>0&&1===t.bracketOpen.length?l(r,n[n.length-1].id,h):o?l(r,o,h):t.notHaveParent.push(h)}else"array"===a&&(t.objectsFromArray=[...t.objectsFromArray,t.objectsFromArrayId++]);let g=(r,n)=>{var o;c({states:t,objectToTraverse:r,parentType:e,myParentId:null===(o=t.bracketOpen[t.bracketOpen.length-1])||void 0===o?void 0:o.id,nextType:n})};if("object"===e&&n.sort(d),n.forEach((e,t,r)=>{var n;g(e,null===(n=r[t+1])||void 0===n?void 0:n.type)}),"property"!==e){if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=[...r.nodes],o=n.findIndex(t=>t.id===(null==e?void 0:e.id));if(n[o]&&"string"==typeof t.brothersNode){n[o].text+=t.brothersNode;let{width:e,height:l}=(0,s.S)(n[o].text,!1);n[o].width=e,n[o].height=l,r.nodes=n,t.brothersNode=[]}}else{let e=i({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?l(r,t.brothersParentId,e):t.notHaveParent=[...t.notHaveParent,e];let n={id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]};t.brothersNodeProps=[...t.brothersNodeProps,n]}}if("array"===a?t.objectsFromArray.length>0&&t.objectsFromArray.pop():t.bracketOpen.length>0&&t.bracketOpen.pop(),h){let e=r.edges.filter(e=>e.from===h),t=r.nodes.findIndex(e=>e.id===h);r.nodes=r.nodes.map((r,n)=>{if(n===t){let t=e.length;return{...r,data:{...r.data,childrenCount:t}}}return r})}}}(u,r,h,g,n,a):function(e,t,r,n,o,s){if(void 0!==e){if("property"===o&&"object"!==s&&"array"!==s)t.brothersParentId=n,void 0===s&&Array.isArray(t.brothersNode)?t.brothersNode.push([t.brotherKey,e]):t.brotherKey=e;else if("array"===o){let t=i({graph:r,text:String(e)});n&&l(r,n,t)}s&&"array"!==o&&("object"===s||"array"===s)&&(t.parentName=e)}}(p,r,h,n,a,o)},h=(e,t)=>{let r=e.map(e=>e.id);return t.filter(e=>r.includes(e.from)||r.includes(e.to))},u=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],l=[];if(n.includes(e)){let r=t.find(t=>t.id===e);r&&o.push(r)}let s=e=>{let i=r.filter(t=>t.from===e).map(e=>e.to),a=t.filter(e=>(n.includes(e.id)&&!l.includes(e.id)&&l.push(e.id),i.includes(e.id)&&!n.includes(e.id)));o.push(...a),a.forEach(e=>s(e.id))};return s(e),[o,l]};var g=r(5043);let p={viewPort:null,direction:"RIGHT",loading:!0,graphCollapsed:!1,fullscreen:!1,collapseAll:!1,nodes:[],edges:[],collapsedNodes:[],collapsedEdges:[],collapsedParents:[],selectedNode:null,path:""};var m=(0,n.Ue)((e,t)=>({...p,toggleCollapseAll:r=>{e({collapseAll:r}),t().collapseGraph()},clearGraph:()=>e({nodes:[],edges:[],loading:!1}),getCollapsedNodeIds:()=>t().collapsedNodes,getCollapsedEdgeIds:()=>t().collapsedEdges,setSelectedNode:t=>e({selectedNode:t}),setGraph:(n,s)=>{let{nodes:a,edges:d}=function(e){try{let t={parentName:"",bracketOpen:[],objectsFromArray:[],objectsFromArrayId:0,notHaveParent:[],brothersNode:[],brothersParentId:void 0,brotherKey:"",brothersNodeProps:[],graph:{nodes:[],edges:[]}},n=(0,o.jv)(e);if(!n)throw Error("Invalid document");c({states:t,objectToTraverse:n});let{notHaveParent:s,graph:a}=t;if(s.length>1&&"array"!==n.type){let e=i({graph:a,id:null,text:"",isEmpty:!0,data:{}});s.forEach(t=>l(a,e,t))}return 0===t.graph.nodes.length&&("array"===n.type?i({graph:t.graph,text:"[]"}):i({graph:t.graph,text:"{}"})),t.graph.nodes=t.graph.nodes.map(e=>({...e,path:function(e,t,n){let{getParentsForNodeId:o}=r(94690),l="",s=o(e,t,n).map(e=>e.id).reverse().concat(n),i=["1"],a=new Map;for(let e of t)a.has(e.from)||a.set(e.from,[]),a.get(e.from).push(e.to);for(let e=1;e<t.length;e++){let r=t[e].from;i.includes(r)||a.has(r)||i.push(r)}i.length>1?l+="Root[".concat(i.findIndex(e=>e===s[0]),"]"):l+="{Root}";for(let t=1;t<s.length;t++){var d,c;let r=s[t],n=e[+r-1];if(!n)break;if((null===(d=n.data)||void 0===d?void 0:d.type)==="array"&&(l+=".".concat(n.text),t!==s.length-1)){let e=s[t+1],n=a.get(r).indexOf(e);l+="[".concat(n,"]")}(null===(c=n.data)||void 0===c?void 0:c.type)==="object"&&(l+=".".concat(n.text))}return l}(t.graph.nodes,t.graph.edges,e.id)})),t.graph}catch(e){return console.error(e),{nodes:[],edges:[]}}}(null!=n?n:g.Z.getState().json);t().collapseAll?(e({nodes:a,edges:d,...s}),t().collapseGraph()):e({nodes:a,edges:d,collapsedParents:[],collapsedNodes:[],collapsedEdges:[],graphCollapsed:!1,...s})},setDirection:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RIGHT";e({direction:r}),setTimeout(()=>t().centerView(),200)},setLoading:t=>e({loading:t}),expandNodes:r=>{let[n,o]=u(r,t().nodes,t().edges,t().collapsedParents),l=h(n,t().edges),s=l.reduce((e,t)=>(t.from&&!e.includes(t.from)&&e.push(t.from),t.to&&!e.includes(t.to)&&e.push(t.to),e),[]),i=o.filter(e=>s.includes(e)),a=n.map(e=>e.id).concat(i),d=l.map(e=>e.id),c=t().collapsedParents.filter(e=>e!==r),g=t().collapsedNodes.filter(e=>!a.includes(e));e({collapsedParents:c,collapsedNodes:g,collapsedEdges:t().collapsedEdges.filter(e=>!d.includes(e)),graphCollapsed:!!g.length})},collapseNodes:r=>{let[n]=u(r,t().nodes,t().edges),o=h(n,t().edges),l=n.map(e=>e.id),s=o.map(e=>e.id);e({collapsedParents:t().collapsedParents.concat(r),collapsedNodes:t().collapsedNodes.concat(l),collapsedEdges:t().collapsedEdges.concat(s),graphCollapsed:!!t().collapsedNodes.concat(l).length})},collapseGraph:()=>{let r=t().edges,n=r.map(e=>e.to),o=r.map(e=>e.from).filter(e=>!n.includes(e)),l=r.filter(e=>o.includes(e.from)).map(e=>e.to),s=t().nodes.filter(e=>{var t;return!o.includes(e.id)&&(null===(t=e.data)||void 0===t?void 0:t.isParent)}).map(e=>e.id),i=t().nodes.filter(e=>!o.includes(e.id)&&!l.includes(e.id)).map(e=>e.id),a=Math.min(...s.map(e=>+e)),d=document.querySelector("g[id*='node-".concat(a,"']"));if(e({collapsedParents:s,collapsedNodes:i,collapsedEdges:t().edges.filter(e=>!o.includes(e.from)).map(e=>e.id),graphCollapsed:!0}),d){var c,h;null===(h=t().viewPort)||void 0===h||null===(c=h.camera)||void 0===c||c.centerFitElementIntoView(d,{elementExtraMarginForZoom:300})}},expandGraph:()=>{e({collapsedNodes:[],collapsedEdges:[],collapsedParents:[],graphCollapsed:!1})},focusFirstNode:()=>{var e,r;let n=document.querySelector("g[id*='node-1']");null===(r=t().viewPort)||void 0===r||null===(e=r.camera)||void 0===e||e.centerFitElementIntoView(n,{elementExtraMarginForZoom:100})},setZoomFactor:e=>{var r;let n=t().viewPort;null==n||null===(r=n.camera)||void 0===r||r.recenter(n.centerX,n.centerY,e)},zoomIn:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor+.1)},zoomOut:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor-.1)},centerView:()=>{let e=t().viewPort;null==e||e.updateContainerSize();let r=document.querySelector(".jsoncrack-canvas");if(r){var n;null==e||null===(n=e.camera)||void 0===n||n.centerFitElementIntoView(r)}},toggleFullscreen:t=>e({fullscreen:t}),setViewPort:t=>e({viewPort:t})}))},37548:function(e,t,r){r.d(t,{F:function(){return i}});var n=r(21905),o=r(47652),l=r(12978),s=r(8396);let i={upsert:async e=>{let{id:t="",contents:r,format:n=o.d.JSON}=e;return await l.O.rpc("upsert_document",{p_content:r,p_format:n,p_id:t})},getById:async e=>await l.O.rpc("get_document_by_id",{doc_id:e}),getAll:async e=>{var t;let r=null===(t=s.Z.getState().user)||void 0===t?void 0:t.email;if(!r)return[];let{data:o,error:i}=await l.O.from("document").select().eq("owner_email",r).ilike("name","%".concat(e,"%")).order("created_at",{ascending:!1});return i?(n.default.error(i.message),[]):o},update:async(e,t)=>await l.O.from("document").update(t).eq("id",e).select("private"),delete:async e=>await l.O.from("document").delete().eq("id",e)}},86322:function(e,t,r){var n=r(49367),o=r(13334),l=r(55686),s=r(85);let i={darkmodeEnabled:!1,collapseButtonVisible:!0,childrenCountVisible:!0,imagePreviewEnabled:!0,liveTransformEnabled:!0,gesturesEnabled:!1,rulersEnabled:!0,viewMode:l.w.Graph},a=(0,n.Ue)((0,o.tJ)(e=>({...i,toggleRulers:t=>e({rulersEnabled:t}),toggleGestures:t=>e({gesturesEnabled:t}),toggleLiveTransform:t=>e({liveTransformEnabled:t}),toggleDarkMode:t=>e({darkmodeEnabled:t}),toggleCollapseButton:t=>e({collapseButtonVisible:t}),toggleChildrenCount:t=>e({childrenCountVisible:t}),toggleImagePreview:t=>{e({imagePreviewEnabled:t}),s.Z.getState().setGraph()},setViewMode:t=>e({viewMode:t})}),{name:"config"}));t.Z=a},16049:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(86763),o=r.n(n),l=r(21905),s=r(49367);let i=JSON.stringify(Object.freeze({squadName:"Super hero squad",homeTown:"Metro City",formed:2016,secretBase:"Super tower",active:!0,members:[{name:"Molecule Man",age:29,secretIdentity:"Dan Jukes",powers:["Radiation resistance","Turning tiny","Radiation blast"]},{name:"Madame Uppercut",age:39,secretIdentity:"Jane Wilson",powers:["Million tonne punch","Damage resistance","Superhuman reflexes"]},{name:"Eternal Flame",age:1e6,secretIdentity:"Unknown",powers:["Immortality","Heat Immunity","Inferno","Teleportation","Interdimensional travel"]}]}),null,2);var a=r(47652);let d=(e,t)=>{if(e&&("object"==typeof e||Array.isArray(e))){if(e.hasOwnProperty(t))return e[t];if(Array.isArray(e))for(let r=0;r<e.length;r++){let n=d(e[r],t);if(n)return n}else for(let r in e){let n=d(e[r],t);if(n)return n}}return!1},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.d.JSON;try{let{load:n}=await r.e(487).then(r.bind(r,80487)),{csv2json:o}=await r.e(4719).then(r.bind(r,34719)),{parse:l}=await Promise.resolve().then(r.bind(r,25003)),s=await r.e(9595).then(r.t.bind(r,29595,23)),i=await r.e(3859).then(r.t.bind(r,33859,23)),c={};if(t===a.d.JSON&&(c=l(e)),t===a.d.YAML&&(c=n(e)),t===a.d.XML&&(c=s.stringToJs(e)),t===a.d.TOML&&(c=i.parse(e)),t===a.d.CSV&&(c=await o(e)),t===a.d.XML&&d(c,"parsererror"))throw Error("Unknown error!");if(!c)throw Error("Invalid JSON!");return Promise.resolve(c)}catch(e){throw e}},h=async(e,t)=>{try{let{dump:n}=await r.e(487).then(r.bind(r,80487)),{json2csv:o}=await r.e(4719).then(r.bind(r,34719)),{parse:l}=await Promise.resolve().then(r.bind(r,25003)),s=e;if(!e)return e;return t===a.d.JSON&&(s=e),t===a.d.YAML&&(s=n(l(e))),t===a.d.XML&&(s=n(l(e))),t===a.d.TOML&&(s=n(l(e))),t===a.d.CSV&&(s=await o(l(e))),Promise.resolve(s)}catch(e){throw e}};var u=r(27073),g=r(37548),p=r(85),m=r(86322),f=r(5043);let x={fileData:null,format:a.d.JSON,contents:i,error:null,hasChanges:!1,jsonSchema:null},j=e=>/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(e),v=o()(e=>{p.Z.getState().setLoading(!0),f.Z.getState().setJson(JSON.stringify(e,null,2))},800);var w=(0,s.Ue)()((e,t)=>({...x,clear:()=>{e({contents:""}),f.Z.getState().clear()},setJsonSchema:t=>e({jsonSchema:t}),setFile:r=>{e({fileData:r,format:r.format||a.d.JSON}),t().setContents({contents:r.content,hasChanges:!1})},getContents:()=>t().contents,getFormat:()=>t().format,getHasChanges:()=>t().hasChanges,setFormat:async r=>{try{let n=t().format;e({format:r});let o=await c(t().contents,n),l=await h(JSON.stringify(o,null,2),r);t().setContents({contents:l})}catch(e){t().clear(),console.warn("The content was unable to be converted, so it was cleared instead.")}},setContents:async r=>{let{contents:n,hasChanges:o=!0,skipUpdate:l=!1}=r;try{e({...n&&{contents:n},error:null,hasChanges:o});let r=window.location.href.includes("?"),s=await c(t().contents,t().format);if(!m.Z.getState().liveTransformEnabled&&l)return;t().hasChanges&&n&&n.length<8e4&&!(0,u.c)()&&!r&&(sessionStorage.setItem("content",n),sessionStorage.setItem("format",t().format),e({hasChanges:!0})),v(s)}catch(t){var s;if(null==t?void 0:null===(s=t.mark)||void 0===s?void 0:s.snippet)return e({error:t.mark.snippet});(null==t?void 0:t.message)&&e({error:t.message}),f.Z.setState({loading:!1}),p.Z.setState({loading:!1})}},setError:t=>e({error:t}),setHasChanges:t=>e({hasChanges:t}),fetchUrl:async e=>{try{let r=await fetch(e),n=await r.json(),o=JSON.stringify(n,null,2);return t().setContents({contents:o}),f.Z.setState({json:o,loading:!1})}catch(e){t().clear(),l.toast.error("Failed to fetch document from URL!")}},checkEditorSession:(r,n)=>{if(r&&"string"==typeof r)return j(r)?t().fetchUrl(r):t().fetchFile(r);let o=i,l=sessionStorage.getItem("content"),s=sessionStorage.getItem("format");l&&!n&&(o=l),s&&e({format:s}),t().setContents({contents:o,hasChanges:!1})},fetchFile:async e=>{try{let{data:r,error:n}=await g.F.getById(e);if(n)throw n;if((null==r?void 0:r.length)&&t().setFile(r[0]),(null==r?void 0:r.length)===0)throw Error("Document not found")}catch(e){(null==e?void 0:e.message)&&l.toast.error(null==e?void 0:e.message),t().setContents({contents:i,hasChanges:!1})}}}))},5043:function(e,t,r){var n=r(49367),o=r(85);let l={json:"",loading:!0},s=(0,n.Ue)()((e,t)=>({...l,getJson:()=>t().json,setJson:t=>{e({json:t,loading:!1}),o.Z.getState().setGraph(t)},clear:()=>{e({json:"",loading:!1}),o.Z.getState().clearGraph()}}));t.Z=s},75415:function(e,t,r){var n=r(49367),o=r(8396);let l={clear:!1,cloud:!1,download:!1,import:!1,account:!1,node:!1,share:!1,login:!1,upgrade:!1,jwt:!1,schema:!1,review:!1,jq:!1,type:!1},s=["cloud","account"],i=(0,n.Ue)()(e=>({...l,setVisible:t=>r=>{let n=o.Z.getState();if(s.includes(t)&&!n.isAuthenticated)return e({login:!0});e({[t]:r})}}));t.Z=i}}]);